<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>AVaughan Angular Login Example Page</title>
  <meta name="description" content="angular lib for pulling together some other great libraries and making ajax login easier to implement, separates config values (what url for login, what tokens and the name, where to go if un-authenticated) - into config objects and calls into login/logout logic based on those settings">

  <!-- Author of this application -->
  <link rel="author" href="https://github.com/aronvaughan">
</head>

<body ontouchstart ng-app="myApp" ng-controller="testController">

Is Logged In: {{isLoggedIn()}}
  <div class="container-fluid login-container" >

       <div ng-cloak ng-class="(isLoggedIn()) ? 'hidden' : ''" class="row" ng-hide="isLoggedIn()">
           <div class="col-md-offset-4 col-md-4">
               <form ng-cloak class="form-signin ng-cloak" role="form" ng-submit="login()">
                   <h2 ng-cloak class="form-signin-heading">Please sign in</h2>
                   <input ng-cloak type="text"  name='j_username' id='username' class="form-control" placeholder="User Name" required autofocus ng-model="formData.name">
                   <input ng-cloak type="password" name='j_password' id='password' class="form-control" placeholder="Password" required ng-model="formData.password">
                   <button ng-cloak class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
               </form>
           </div>
       </div>

      <nav class="navbar navbar-inverse " role="navigation" ng-show="isLoggedIn()">


          <div class="navbar-collapse collapse" id="bs-example-navbar-collapse-1">

              User: <i class="glyphicon glyphicon-user"></i>&nbsp;{{userInfo.name}} <b class="caret"></b>
              <br/>
              Full user info: {{userInfo}}
              <br/>
              Roles: {{roles}}

              <br/>
              <br/>
              <button ng-click="logout()" type="button" class="btn btn-default">
                  <span class="glyphicon glyphicon-star"></span> Logout
              </button>



          </div>
      </nav>

      <br/>
                    <br/>
                    <button ng-click="makeProtectedCall()" type="button" class="btn">
                        Make Secure Call
                    </button>
                    <br/>
                    Secure Call Result: {{result}}

      <br/>
      <br/>
      <br/>
      <input name='obj1.data' type="checkbox" ng-model="loginEventDoesNotContainFullUserInfo" ng-true-value="1" ng-false-value="0">Login Event Dones Not Contain Full User
      <button ng-click="setLoginEventContainsFullUser()" type="button" class="btn">
          Set Value
      </button>
      <br/>
      <br/>
      <input type="text" ng-model="hasRoleTextField">
      <button ng-click="hasRoleCheck()" type="button" class="btn">
          Check For Role
      </button>
      {{hasRole}}
      <br/>
      <text visible-to-roles="ADMIN,USER">ADMIN or USER!!!</text>
      <br/>
      <text visible-to-roles="ADMIN">ADMIN!!!</text>
      <br/>
      <text visible-to-roles="USER">USER!!!</text>
      <br/>
      <div visible-to-roles="ANONYMOUS">ANONYMOUS!!!</div>

      <!-- build:js scripts/components.min.js -->
  <!-- bower:js -->
  <script src="../../bower_components/angular/angular.js"></script>
  <script src="../../bower_components/angular-cookies/angular-cookies.js"></script>
  <script src="../../bower_components/angular-logging/dist/angular-logging.min.js"></script>
  <script src="../../bower_components/lodash/dist/lodash.compat.js"></script>
  <script src="../../bower_components/angular-resource/angular-resource.js"></script>
  <script src="../../bower_components/angular-http-auth/src/http-auth-interceptor.js"></script>
  <script src="../../bower_components/angular-login/dist/angular-login.min.js"></script>
  <script src="../../bower_components/angular-rest-service/dist/angular-rest-service.min.js"></script>
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:js scripts/app.min.js -->
  <script src="../angular-user-service.js"></script>

      </script>
  <script src="scripts/app.js"></script>
  <script src="scripts/testController.js"></script>
  <!-- endbuild -->

</body>

</html>
